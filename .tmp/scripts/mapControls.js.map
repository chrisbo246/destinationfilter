{"version":3,"sources":["../../app/scripts/mapControls.js"],"names":[],"mappings":"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","file":"mapControls.js","sourcesContent":["/*old-jslint indent: 2, unparam: true, plusplus: true */\n/*\njslint\n    devel: true,\n    browser: true,\n    node: false\n*/\n/*\nglobal\n    $,\n    ol,\n    deferred: true,\n    map: false\n*/\n\nvar mapControlsModule = (function () {\n    'use strict';\n    \n    console.time('Map controls initialized'); \n\n    // Controls ________________________________________________________________________________\n\n    var attribution = new ol.control.Attribution({\n        collapsible: true,\n        //tipLabel: appModule.i18n.t('buttons:olAttribution.label')\n    });\n\n    //var projection = view.getProjection()\n    //var extent = projection.getExtent();\n    var zoomToExtentControl = new ol.control.ZoomToExtent({\n        //extent: extent,\n        //tipLabel: appModule.i18n.t('buttons:olZoomExtent.label')\n    });\n\n    // scale-line\n    var scaleLineControl = new ol.control.ScaleLine({\n        //tipLabel: appModule.i18n.t('buttons:olScaleLine.label')\n    });\n\n    // mouse-position\n    var mousePositionControl = new ol.control.MousePosition({\n        coordinateFormat: ol.coordinate.createStringXY(4),\n        projection: 'EPSG:4326', // infoProjection\n        // comment the following two lines to have the mouse position\n        // be placed within the map.\n        className: 'custom-mouse-position',\n        target: document.getElementById('mouse-position'),\n        undefinedHTML: '&nbsp;'\n    });\n\n    // Layerswitcher\n    var layerSwitcher = new ol.control.LayerSwitcher({\n        //tipLabel: appModule.i18n.t('buttons:olLayerswitcher.label')\n    });\n    // map.addControl(layerSwitcher);\n\n    var fullScreenControl = new ol.control.FullScreen({\n        // className: 'ol-glyphicon',\n        // label: '\\e140',\n        //tipLabel: appModule.i18n.t('buttons:olFullScreen.label')\n    });\n    \n    // overviewmap-custom\n    var overviewMapControl = new ol.control.OverviewMap({\n        // see in overviewmap-custom.html to see the custom CSS used\n        className: 'ol-overviewmap ol-custom-overviewmap',\n        //layers: [\n        //    mapLayersModule.baselayers\n        //],\n        collapseLabel: '\\u00AB',\n        label: '\\u00BB',\n        collapsed: true,\n        //tipLabel: appModule.i18n.t('buttons:olOverviewmap.label')\n    });\n\n    // Define overview layers once layers are defined\n    $.when(appModule.deferred.ready.mapLayers).done(function () {\n        overviewMapControl.setProperties({\n            layers:  [mapLayersModule.baselayers]\n        });\n    });\n\n    // Inputs ______________________________________________________________________________________\n\n    $(function () {\n        \n        // Scale-line units\n        var unitsSelect = $('#units');\n        unitsSelect.on('change', function () {\n            scaleLineControl.setUnits(this.value);\n        });\n        unitsSelect.val(scaleLineControl.getUnits());\n\n        // Mouse projection\n        var projectionSelect = $('#projection');\n        projectionSelect.on('change', function () {\n            mousePositionControl.setProjection(ol.proj.get(this.value));\n        });\n        projectionSelect.val(mousePositionControl.getProjection().getCode());\n\n        // Mouse precision\n        var precisionInput = $('#precision');\n        precisionInput.on('change', function () {\n            var format = ol.coordinate.createStringXY(this.valueAsNumber);\n            mousePositionControl.setCoordinateFormat(format);\n        });\n        \n    });\n    \n    \n    \n    // Controls ________________________________________________________________________________\n    \n    var controls = ol.control.defaults({\n        attribution: false,\n        attributionOptions: /** @type {olx.control.AttributionOptions} */ ({\n            collapsible: false\n        }),\n        zoomOptions: {\n        //    zoomInTipLabel: appModule.i18n.t('buttons:olZoomIn.label'),\n        //    zoomOutTipLabel: appModule.i18n.t('buttons:olZoomOut.label')\n        }\n    }).extend([\n        attribution,\n        mousePositionControl,\n        scaleLineControl,\n        overviewMapControl,\n        zoomToExtentControl,\n        fullScreenControl,\n        layerSwitcher\n    ]);\n\n    $.when(appModule.deferred.init.i18next).done(function () {\n        \n        attribution.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olAttribution.label')\n        });\n        \n        zoomToExtentControl.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olZoomExtent.label')\n        });\n        \n        scaleLineControl.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olScaleLine.label')\n        });\n        \n        layerSwitcher.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olLayerswitcher.label')\n        });\n        \n        fullScreenControl.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olFullScreen.label')\n        });\n        \n        overviewMapControl.setProperties({\n            tipLabel: appModule.i18n.t('buttons:olOverviewmap.label')\n        });\n        \n        controls.setProperties({\n            zoomOptions: {\n                zoomInTipLabel: appModule.i18n.t('buttons:olZoomIn.label'),\n                zoomOutTipLabel: appModule.i18n.t('buttons:olZoomOut.label')\n            }\n        });\n        \n        console.log('Map controls translated');\n        \n        appModule.deferred.ready.mapControls.resolve();\n        console.timeEnd('Map controls initialized'); \n        \n    });\n    \n        \n        \n    return {\n        controls: controls,\n        layerSwitcher: layerSwitcher,\n        overviewMapControl: overviewMapControl \n    };\n    \n})();\n\n"]}