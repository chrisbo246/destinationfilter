{"version":3,"sources":["../../app/scripts/userProfileResetController.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAeA,IAAI,sBAAsB,GAAG,CAAC,YAAY;AACtC,gBAAY,CAAC;;AAEb,KAAC,CAAC,YAAY;;;AAGV,SAAC,CAAC,2BAA2B,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,YAAY;AAC7D,mBAAO,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;;AAEzD,gBAAI,KAAK,GAAG,CAAC,CAAC,0BAA0B,CAAC,CAAC;;;;;;;;;AAS1C,aAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY;;;AAGrD,qBAAK,CACA,kBAAkB,CACf,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,kBAAkB,EAAE;AAC/C,0BAAM,EAAE;AACJ,mCAAW,EAAE;AACT,oCAAQ,EAAE,eAAe;AACzB,sCAAU,EAAE;AACR,wCAAQ,EAAE;AACN,2CAAO,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,kCAAkC,CAAC;iCAChE;6BACJ;yBACJ;qBACJ;iBACJ,CAAC,CACL,CACA,kBAAkB,CAAC,UAAU,CAAC,CAC9B,GAAG,EAAE,CACL,EAAE,CAAC,QAAQ,EAAE,YAAY;AACtB,wBAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACpB,wBAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AAClB,6BAAK,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;qBACjE;iBACJ,CAAC,CAAC;aAEV,CAAC,CAAC;;;AAGH,aAAC,CAAC,eAAe,CAAC,CACb,KAAK,EAAE,CACP,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEhC,mBAAO,CAAC,OAAO,CAAC,0CAA0C,CAAC,CAAC;SAC/D,CAAC,CAAC;;;AAGH,SAAC,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY;AACxC,gBAAI,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,EAAE;AAC1B,iBAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;aACjD,MAAM;AACH,iBAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;aAChD;SACJ,CAAC,CAAC;;;AAGH,SAAC,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;AAC3C,aAAC,CAAC,cAAc,EAAE,CAAC;AACnB,gBAAI,GAAG,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC;AAC7B,gBAAI,GAAG,CAAC,GAAG,EAAE,EAAE;;AAEP,iCAAiB,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;;aAEtE;AACD,aAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SACrC,CAAC,CAAC;;AAEH,iBAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;KAEvD,CAAC,CAAC;CAEN,CAAA,EAAG,CAAC","file":"userProfileResetController.js","sourcesContent":["/*old-jslint indent: 2, unparam: true, plusplus: true */\r\n/*\r\njslint\r\n    devel: true,\r\n    browser: true,\r\n    node: false\r\n*/\r\n/*\r\nglobal\r\n    $,\r\n    deferred: true,\r\n    options: true,\r\n    oecdIncomeLevels: true\r\n*/\r\n\r\nvar userProfileResetModule = (function () {\r\n    'use strict';\r\n\r\n    $(function () {\r\n            \r\n        // Profile initialization form fields initialisation (when modal open)\r\n        $('#user_profile_reset_modal').one('shown.bs.modal', function () {\r\n            console.time('#user_profile_reset_modal initialisation');\r\n\r\n            var $form = $('#user_profile_reset_form');\r\n\r\n            // Initialize the chosen plugin when #user_profile_pane is visible\r\n            //$form.find('.chosen-select')\r\n            //    .chosen(options.chosen);\r\n                //.end()\r\n                //.on('change')\r\n                //.trigger('chosen:updated');\r\n\r\n            $.when(appModule.deferred.init.i18next).done(function () {\r\n\r\n                // Field validation\r\n                $form\r\n                    .bootstrapValidator(\r\n                        $.extend({}, appModule.options.bootstrapValidator, {\r\n                            fields: {\r\n                                userProfile: {\r\n                                    selector: '#user_profile',\r\n                                    validators: {\r\n                                        notEmpty: {\r\n                                            message: appModule.i18n.t('fields:default.messages.notEmpty')\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    )\r\n                    .bootstrapValidator('validate')\r\n                    .end()\r\n                    .on('change', function () {\r\n                        var $this = $(this);\r\n                        if ($this.attr('id')) {\r\n                            $form.bootstrapValidator('revalidateField', $this.attr('id'));\r\n                        }\r\n                    });\r\n\r\n            });\r\n\r\n            // Focus select field\r\n            $('#user_profile')\r\n                .focus()\r\n                .trigger('chosen:activate');\r\n\r\n            console.timeEnd('#user_profile_reset_modal initialisation');\r\n        });\r\n\r\n        // Disable populate profile button if user country field is empty\r\n        $('#user_profile').on('change', function () {\r\n            if ($('#user_profile').val()) {\r\n                $('#refresh_profile').attr('disabled', false);\r\n            } else {\r\n                $('#refresh_profile').attr('disabled', true);\r\n            }\r\n        });\r\n\r\n        // Populate profil form when user change his country\r\n        $('#refresh_profile').on('click', function (e) {\r\n            e.preventDefault();\r\n            var $el = $('#user_profile');\r\n            if ($el.val()) {\r\n                //$.when(appModule.deferred.ready.userProfile).done(function () {\r\n                    userProfileModule.populateUserProfile($el.val().toLowerCase());\r\n                //});\r\n            }\r\n            $('#profile_modal').modal('hide');\r\n        });\r\n\r\n        appModule.deferred.ready.userProfileReset.resolve();\r\n        \r\n    });\r\n\r\n})();\r\n\r\n"]}