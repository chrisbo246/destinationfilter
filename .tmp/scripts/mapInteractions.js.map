{"version":3,"sources":["../../app/scripts/mapInteractions.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA,IAAI,qBAAqB,GAAG,CAAC,YAAY;AACrC,gBAAY,CAAC;;AAEb,WAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;;;;;;;AAO7C,QAAI,MAAM,EACN,iBAAiB,EACjB,WAAW,EACX,iBAAiB,EACjB,aAAa,CAAC;;AAElB,UAAM,GAAG,IAAI,CAAC;;;AAGd,qBAAiB,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;;;AAGhD,eAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC;AACpC,iBAAS,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK;KACvC,CAAC,CAAC;;;AAGH,qBAAiB,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC;AAC1C,iBAAS,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW;KAC7C,CAAC,CAAC;;;;;;;;;AAWH,QAAI,kBAAkB,GAAG,SAArB,kBAAkB,CAAa,GAAG,EAAE;;AAEpC,YAAI,MAAM,KAAK,IAAI,EAAE;AACjB,eAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SACjC;AACD,YAAI,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC;AAChC,YAAI,KAAK,KAAK,aAAa,EAAE;AACzB,kBAAM,GAAG,iBAAiB,CAAC;SAC9B,MAAM,IAAI,KAAK,KAAK,OAAO,EAAE;AAC1B,kBAAM,GAAG,WAAW,CAAC;SACxB,MAAM,IAAI,KAAK,KAAK,aAAa,EAAE;AAChC,kBAAM,GAAG,iBAAiB,CAAC;SAC9B,MAAM;AACH,kBAAM,GAAG,IAAI,CAAC;SACjB;AACD,YAAI,MAAM,KAAK,IAAI,EAAE;AACjB,eAAG,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AAC3B,kBAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;AAC7B,oBAAI,CAAC,CAAC,QAAQ,EAAE;AACZ,qBAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,GAC3D,8CAA8C,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,GAClE,kBAAkB,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,YAAY,CAAC,CAAC;iBAChE;aAEJ,CAAC,CAAC;SACN;KACJ,CAAC;;;;AAMF,KAAC,CAAC,YAAY;;;AAGV,qBAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AACvD,SAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,YAAY;AACvF,yBAAa,CAAC,QAAQ,GAAG,kBAAkB,CAAC;AAC5C,8BAAkB,CAAC,GAAG,CAAC,CAAC;SAC3B,CAAC,CAAC;KAEN,CAAC,CAAC;;AAIH,QAAI,YAAY,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,EAE1C,CAAC,CAAC,MAAM,CAAC,CACN,IAAI,EAAE,CAAC,WAAW,CAAC,iBAAiB,EAAE,CACzC,CAAC,CAAC;;AAEH,WAAO;AACH,oBAAY,EAAE,YAAY;KAC7B,CAAC;;;CAIL,CAAA,EAAG,CAAC;;AAEL,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;AACnD,OAAO,CAAC,OAAO,CAAC,8BAA8B,CAAC,CAAC","file":"mapInteractions.js","sourcesContent":["/*old-jslint indent: 2, unparam: true, plusplus: true */\r\n/*\r\njslint\r\n    devel: true,\r\n    browser: true,\r\n    node: false\r\n*/\r\n/*\r\nglobal\r\n    $,\r\n    ol,\r\n    deferred: true,\r\n    map: true\r\n*/\r\n\r\n\r\n\r\nvar mapInteractionsModule = (function () {\r\n    'use strict';\r\n    \r\n    console.time('Map interactions initialized'); \r\n    \r\n    /**\r\n     *\r\n     * See See http://openlayers.org/en/v3.4.0/examples/select-features.html\r\n     */\r\n\r\n    var select,\r\n        selectSingleClick,\r\n        selectClick,\r\n        selectPointerMove,\r\n        selectElement;\r\n\r\n    select = null; // ref to currently selected interaction\r\n\r\n    // select interaction working on \"singleclick\"\r\n    selectSingleClick = new ol.interaction.Select();\r\n\r\n    // select interaction working on \"click\"\r\n    selectClick = new ol.interaction.Select({\r\n        condition: ol.events.condition.click\r\n    });\r\n\r\n    // select interaction working on \"pointermove\"\r\n    selectPointerMove = new ol.interaction.Select({\r\n        condition: ol.events.condition.pointerMove\r\n    });\r\n\r\n\r\n\r\n    // Functions _______________________________________________________________________________________\r\n\r\n    /**\r\n     * Change mouse interaction\r\n     * See http://openlayers.org/en/v3.4.0/examples/select-features.html\r\n     */\r\n\r\n    var _changeInteraction = function (map) {\r\n\r\n        if (select !== null) {\r\n            map.removeInteraction(select);\r\n        }\r\n        var value = selectElement.value;\r\n        if (value === 'singleclick') {\r\n            select = selectSingleClick;\r\n        } else if (value === 'click') {\r\n            select = selectClick;\r\n        } else if (value === 'pointermove') {\r\n            select = selectPointerMove;\r\n        } else {\r\n            select = null;\r\n        }\r\n        if (select !== null) {\r\n            map.addInteraction(select);\r\n            select.on('select', function (e) {\r\n                if (e.selected) {\r\n                    $('#status').html('&nbsp;' + e.target.getFeatures().getLength() +\r\n                        ' selected features (last operation selected ' + e.selected.length +\r\n                        ' and deselected ' + e.deselected.length + ' features)');\r\n                }\r\n\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // Events __________________________________________________________________________________________\r\n\r\n    $(function () {\r\n        \r\n        // Country selection mode (click, double click)\r\n        selectElement = document.getElementById('action_type');\r\n        $.when(appModule.deferred.ready.map, appModule.deferred.load.mapSettings).done(function () {\r\n            selectElement.onchange = _changeInteraction;\r\n            _changeInteraction(map);\r\n        });\r\n        \r\n    });\r\n    \r\n    \r\n    \r\n    var interactions = ol.interaction.defaults({\r\n\r\n    }).extend([\r\n        new ol.interaction.DragRotateAndZoom()\r\n    ]);\r\n    \r\n    return {\r\n        interactions: interactions\r\n    };\r\n    \r\n    // return mapModule;\r\n    \r\n})();\r\n\r\nappModule.deferred.ready.mapInteractions.resolve();   \r\nconsole.timeEnd('Map interactions initialized'); "]}