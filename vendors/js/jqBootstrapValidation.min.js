(function(f){function q(b,c){for(var a=Array.prototype.slice.call(arguments,2),d=b.split("."),f=d.pop(),k=0;k<d.length;k++)c=c[d[k]];return c[f].apply(c,a)}var s=[],m={options:{prependExistingHelpBlock:!1,sniffHtml:!0,preventSubmit:!0,submitError:!1,submitSuccess:!1,semanticallyStrict:!1,removeSuccess:!0,bindEvents:[],autoAdd:{helpBlocks:!0},filter:function(){return!0}},methods:{init:function(b){var c=f.extend(!0,{},m);c.options=f.extend(!0,c.options,b);b=f.unique(this.map(function(){return f(this).parents("form")[0]}).toArray());
f(b).bind("submit.validationSubmit",function(a){var b=f(this),g=0,k=b.find("input,textarea,select").not("[type=submit],[type=image]").filter(c.options.filter),h=b.find(".control-group"),e=k.filter(function(){return 0<f(this).triggerHandler("getValidatorCount.validation")});e.trigger("submit.validation");k.trigger("validationLostFocus.validation");h.each(function(a,c){var b=f(c);if(b.hasClass("warning")||b.hasClass("error"))b.removeClass("warning").addClass("error"),g++});g?(c.options.preventSubmit&&
(a.preventDefault(),a.stopImmediatePropagation()),b.addClass("error"),f.isFunction(c.options.submitError)&&c.options.submitError(b,a,e.jqBootstrapValidation("collectErrors",!0))):(b.removeClass("error"),f.isFunction(c.options.submitSuccess)&&c.options.submitSuccess(b,a))});return this.each(function(){var a=f(this),b=a.parents(".control-group").first(),g=b.find(".help-block").first(),k=a.parents("form").first(),h=[];!g.length&&c.options.autoAdd&&c.options.autoAdd.helpBlocks&&(g=f('<div class="help-block" />'),
b.find(".controls").append(g),s.push(g[0]));if(c.options.sniffHtml){var e;a.data("validationPatternPattern")&&a.attr("pattern",a.data("validationPatternPattern"));void 0!==a.attr("pattern")&&(e="Not in the expected format\x3c!-- data-validation-pattern-message to override --\x3e",a.data("validationPatternMessage")&&(e=a.data("validationPatternMessage")),a.data("validationPatternMessage",e),a.data("validationPatternRegex",a.attr("pattern")));if(void 0!==a.attr("max")||void 0!==a.attr("aria-valuemax")){var n=
void 0!==a.attr("max")?a.attr("max"):a.attr("aria-valuemax");e="Too high: Maximum of '"+n+"'\x3c!-- data-validation-max-message to override --\x3e";a.data("validationMaxMessage")&&(e=a.data("validationMaxMessage"));a.data("validationMaxMessage",e);a.data("validationMaxMax",n)}if(void 0!==a.attr("min")||void 0!==a.attr("aria-valuemin"))n=void 0!==a.attr("min")?a.attr("min"):a.attr("aria-valuemin"),e="Too low: Minimum of '"+n+"'\x3c!-- data-validation-min-message to override --\x3e",a.data("validationMinMessage")&&
(e=a.data("validationMinMessage")),a.data("validationMinMessage",e),a.data("validationMinMin",n);void 0!==a.attr("maxlength")&&(e="Too long: Maximum of '"+a.attr("maxlength")+"' characters\x3c!-- data-validation-maxlength-message to override --\x3e",a.data("validationMaxlengthMessage")&&(e=a.data("validationMaxlengthMessage")),a.data("validationMaxlengthMessage",e),a.data("validationMaxlengthMaxlength",a.attr("maxlength")));void 0!==a.attr("minlength")&&(e="Too short: Minimum of '"+a.attr("minlength")+
"' characters\x3c!-- data-validation-minlength-message to override --\x3e",a.data("validationMinlengthMessage")&&(e=a.data("validationMinlengthMessage")),a.data("validationMinlengthMessage",e),a.data("validationMinlengthMinlength",a.attr("minlength")));if(void 0!==a.attr("required")||void 0!==a.attr("aria-required"))e=c.builtInValidators.required.message,a.data("validationRequiredMessage")&&(e=a.data("validationRequiredMessage")),a.data("validationRequiredMessage",e);void 0!==a.attr("type")&&"number"===
a.attr("type").toLowerCase()&&(e=c.validatorTypes.number.message,a.data("validationNumberMessage")&&(e=a.data("validationNumberMessage")),a.data("validationNumberMessage",e),e=c.validatorTypes.number.step,a.data("validationNumberStep")&&(e=a.data("validationNumberStep")),a.data("validationNumberStep",e),e=c.validatorTypes.number.decimal,a.data("validationNumberDecimal")&&(e=a.data("validationNumberDecimal")),a.data("validationNumberDecimal",e));void 0!==a.attr("type")&&"email"===a.attr("type").toLowerCase()&&
(e="Not a valid email address\x3c!-- data-validation-email-message to override --\x3e",a.data("validationEmailMessage")&&(e=a.data("validationEmailMessage")),a.data("validationEmailMessage",e));void 0!==a.attr("minchecked")&&(e="Not enough options checked; Minimum of '"+a.attr("minchecked")+"' required\x3c!-- data-validation-minchecked-message to override --\x3e",a.data("validationMincheckedMessage")&&(e=a.data("validationMincheckedMessage")),a.data("validationMincheckedMessage",e),a.data("validationMincheckedMinchecked",
a.attr("minchecked")));void 0!==a.attr("maxchecked")&&(e="Too many options checked; Maximum of '"+a.attr("maxchecked")+"' required\x3c!-- data-validation-maxchecked-message to override --\x3e",a.data("validationMaxcheckedMessage")&&(e=a.data("validationMaxcheckedMessage")),a.data("validationMaxcheckedMessage",e),a.data("validationMaxcheckedMaxchecked",a.attr("maxchecked")))}void 0!==a.data("validation")&&(h=a.data("validation").split(","));f.each(a.data(),function(a,b){var c=a.replace(/([A-Z])/g,
",$1").split(",");"validation"===c[0]&&c[1]&&h.push(c[1])});e=h;var m=[],n=function(a,b){h[a]=p(b)},q=function(b,d){if(void 0!==a.data("validation"+d+"Shortcut"))f.each(a.data("validation"+d+"Shortcut").split(","),function(a,b){m.push(b)});else if(c.builtInValidators[d.toLowerCase()]){var e=c.builtInValidators[d.toLowerCase()];"shortcut"===e.type.toLowerCase()&&f.each(e.shortcut.split(","),function(a,b){b=p(b);m.push(b);h.push(b)})}};do f.each(h,n),h=f.unique(h),m=[],f.each(e,q),e=m;while(0<e.length);
var l={};f.each(h,function(b,d){var e=a.data("validation"+d+"Message"),g=!!e,h=!1;e||(e="'"+d+"' validation failed \x3c!-- Add attribute 'data-validation-"+d.toLowerCase()+"-message' to input to change this message --\x3e");f.each(c.validatorTypes,function(b,c){void 0===l[b]&&(l[b]=[]);if(!h&&void 0!==a.data("validation"+d+p(c.name))){var k=c.init(a,d);g&&(k.message=e);l[b].push(f.extend(!0,{name:p(c.name),message:e},k));h=!0}});if(!h&&c.builtInValidators[d.toLowerCase()]){var k=f.extend(!0,{},c.builtInValidators[d.toLowerCase()]);
g&&(k.message=e);var m=k.type.toLowerCase();"shortcut"===m?h=!0:f.each(c.validatorTypes,function(b,c){void 0===l[b]&&(l[b]=[]);h||m!==b.toLowerCase()||(a.data("validation"+d+p(c.name),k[c.name.toLowerCase()]),l[m].push(f.extend(k,c.init(a,d))),h=!0)})}h||f.error("Cannot find validation info for '"+d+"'")});g.data("original-contents",g.data("original-contents")?g.data("original-contents"):g.html());g.data("original-role",g.data("original-role")?g.data("original-role"):g.attr("role"));b.data("original-classes",
b.data("original-clases")?b.data("original-classes"):b.attr("class"));a.data("original-aria-invalid",a.data("original-aria-invalid")?a.data("original-aria-invalid"):a.attr("aria-invalid"));a.bind("validation.validation",function(b,d){var e=t(a),g=[];f.each(l,function(b,h){(e||e.length||d&&d.includeEmpty||c.validatorTypes[b].includeEmpty||c.validatorTypes[b].blockSubmit&&d&&d.submitting)&&f.each(h,function(d,f){c.validatorTypes[b].validate(a,e,f)&&g.push(f.message)})});return g});a.bind("getValidators.validation",
function(){return l});var r=0;f.each(l,function(a,b){r+=b.length});a.bind("getValidatorCount.validation",function(){return r});a.bind("submit.validation",function(){return a.triggerHandler("change.validation",{submitting:!0})});a.bind((0<c.options.bindEvents.length?c.options.bindEvents:"keyup focus blur click keydown keypress change".split(" ")).concat(["revalidate"]).join(".validation ")+".validation",function(e,h){var m=t(a),l=[];h&&h.submitting?b.data("jqbvIsSubmitting",!0):"revalidate"!==e.type&&
b.data("jqbvIsSubmitting",!1);var n=!!b.data("jqbvIsSubmitting");b.find("input,textarea,select").not("[type=submit]").each(function(b,c){var d=l.length;f.each(f(c).triggerHandler("validation.validation",h)||[],function(a,b){l.push(b)});l.length>d?f(c).attr("aria-invalid","true"):(d=a.data("original-aria-invalid"),f(c).attr("aria-invalid",void 0!==d?d:!1))});k.find("input,select,textarea").not(a).not('[name="'+a.attr("name")+'"]').trigger("validationLostFocus.validation");l=f.unique(l.sort());l.length?
(b.removeClass("success error warning").addClass(n?"error":"warning"),c.options.semanticallyStrict&&1===l.length?g.html(l[0]+(c.options.prependExistingHelpBlock?g.data("original-contents"):"")):g.html('<ul role="alert"><li>'+l.join("</li><li>")+"</li></ul>"+(c.options.prependExistingHelpBlock?g.data("original-contents"):""))):(b.removeClass("warning error success"),0<m.length&&b.addClass("success"),g.html(g.data("original-contents")));"blur"===e.type&&c.options.removeSuccess&&b.removeClass("success")});
a.bind("validationLostFocus.validation",function(){c.options.removeSuccess&&b.removeClass("success")})})},destroy:function(){return this.each(function(){var b=f(this),c=b.parents(".control-group").first(),a=c.find(".help-block").first(),d=b.parents("form").first();b.unbind(".validation");d.unbind(".validationSubmit");a.html(a.data("original-contents"));c.attr("class",c.data("original-classes"));b.attr("aria-invalid",b.data("original-aria-invalid"));a.attr("role",b.data("original-role"));-1<f.inArray(a[0],
s)&&a.remove()})},collectErrors:function(b){var c={};this.each(function(a,b){var g=f(b),k=g.attr("name"),g=g.triggerHandler("validation.validation",{includeEmpty:!0});c[k]=f.extend(!0,g,c[k])});f.each(c,function(a,b){0===b.length&&delete c[a]});return c},hasErrors:function(){var b=[];this.find("input,select,textarea").add(this).each(function(c,a){b=b.concat(f(a).triggerHandler("getValidators.validation")?f(a).triggerHandler("validation.validation",{submitting:!0}):[])});return 0<b.length},override:function(b){m=
f.extend(!0,m,b)}},validatorTypes:{callback:{name:"callback",init:function(b,c){var a={validatorName:c,callback:b.data("validation"+c+"Callback"),lastValue:b.val(),lastValid:!0,lastFinished:!0},d="Not valid";b.data("validation"+c+"Message")&&(d=b.data("validation"+c+"Message"));a.message=d;return a},validate:function(b,c,a){if(a.lastValue===c&&a.lastFinished)return!a.lastValid;!0===a.lastFinished&&(a.lastValue=c,a.lastValid=!0,a.lastFinished=!1,q(a.callback,window,b,c,function(c){a.lastValue===c.value&&
(a.lastValid=c.valid,c.message&&(a.message=c.message),a.lastFinished=!0,b.data("validation"+a.validatorName+"Message",a.message),setTimeout(function(){!b.is(":focus")&&b.parents("form").first().data("jqbvIsSubmitting")?b.trigger("blur.validation"):b.trigger("revalidate.validation")},1))}));return!1}},ajax:{name:"ajax",init:function(b,c){return{validatorName:c,url:b.data("validation"+c+"Ajax"),lastValue:b.val(),lastValid:!0,lastFinished:!0}},validate:function(b,c,a){if(""+a.lastValue===""+c&&!0===
a.lastFinished)return!1===a.lastValid;!0===a.lastFinished&&(a.lastValue=c,a.lastValid=!0,a.lastFinished=!1,f.ajax({url:a.url,data:"value="+encodeURIComponent(c)+"&field="+b.attr("name"),dataType:"json",success:function(c){""+a.lastValue===""+c.value&&(a.lastValid=!!c.valid,c.message&&(a.message=c.message),a.lastFinished=!0,b.data("validation"+a.validatorName+"Message",a.message),setTimeout(function(){b.trigger("revalidate.validation")},1))},failure:function(){a.lastValid=!0;a.message="ajax call failed";
a.lastFinished=!0;b.data("validation"+a.validatorName+"Message",a.message);setTimeout(function(){b.trigger("revalidate.validation")},1)}}));return!1}},regex:{name:"regex",init:function(b,c){var a={},d=b.data("validation"+c+"Regex");a.regex=new RegExp("^"+d+"$");void 0===d&&f.error("Can't find regex for '"+c+"' validator on '"+b.attr("name")+"'");d="Not in the expected format";b.data("validation"+c+"Message")&&(d=b.data("validation"+c+"Message"));a.message=d;a.originalName=c;return a},validate:function(b,
c,a){return!a.regex.test(c)&&!a.negative||a.regex.test(c)&&a.negative}},email:{name:"email",init:function(b,c){var a={};a.regex=RegExp("^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$");var d="Not a valid email address";b.data("validation"+c+"Message")&&(d=b.data("validation"+c+"Message"));a.message=d;a.originalName=c;return a},validate:function(b,c,a){return!a.regex.test(c)&&!a.negative||a.regex.test(c)&&a.negative}},required:{name:"required",init:function(b,c){var a="This is required";
b.data("validation"+c+"Message")&&(a=b.data("validation"+c+"Message"));return{message:a,includeEmpty:!0}},validate:function(b,c,a){return!!(0===c.length&&!a.negative||0<c.length&&a.negative)},blockSubmit:!0},match:{name:"match",init:function(b,c){var a=b.data("validation"+c+"Match"),d=b.parents("form").first(),g=d.find('[name="'+a+'"]').first();g.bind("validation.validation",function(){b.trigger("revalidate.validation",{submitting:!0})});var k={};k.element=g;0===g.length&&f.error("Can't find field '"+
a+"' to match '"+b.attr("name")+"' against in '"+c+"' validator");var h="Must match",e=null;(e=d.find('label[for="'+a+'"]')).length?h+=" '"+e.text()+"'":(e=g.parents(".control-group").first().find("label")).length&&(h+=" '"+e.first().text()+"'");b.data("validation"+c+"Message")&&(h=b.data("validation"+c+"Message"));k.message=h;return k},validate:function(b,c,a){return c!==a.element.val()&&!a.negative||c===a.element.val()&&a.negative},blockSubmit:!0,includeEmpty:!0},max:{name:"max",init:function(b,
c){var a={};a.max=b.data("validation"+c+"Max");a.message="Too high: Maximum of '"+a.max+"'";b.data("validation"+c+"Message")&&(a.message=b.data("validation"+c+"Message"));return a},validate:function(b,c,a){return parseFloat(c,10)>parseFloat(a.max,10)&&!a.negative||parseFloat(c,10)<=parseFloat(a.max,10)&&a.negative}},min:{name:"min",init:function(b,c){var a={};a.min=b.data("validation"+c+"Min");a.message="Too low: Minimum of '"+a.min+"'";b.data("validation"+c+"Message")&&(a.message=b.data("validation"+
c+"Message"));return a},validate:function(b,c,a){return parseFloat(c)<parseFloat(a.min)&&!a.negative||parseFloat(c)>=parseFloat(a.min)&&a.negative}},maxlength:{name:"maxlength",init:function(b,c){var a={};a.maxlength=b.data("validation"+c+"Maxlength");a.message="Too long: Maximum of '"+a.maxlength+"' characters";b.data("validation"+c+"Message")&&(a.message=b.data("validation"+c+"Message"));return a},validate:function(b,c,a){return c.length>a.maxlength&&!a.negative||c.length<=a.maxlength&&a.negative}},
minlength:{name:"minlength",init:function(b,c){var a={};a.minlength=b.data("validation"+c+"Minlength");a.message="Too short: Minimum of '"+a.minlength+"' characters";b.data("validation"+c+"Message")&&(a.message=b.data("validation"+c+"Message"));return a},validate:function(b,c,a){return c.length<a.minlength&&!a.negative||c.length>=a.minlength&&a.negative}},maxchecked:{name:"maxchecked",init:function(b,c){var a={},d=b.parents("form").first().find('[name="'+b.attr("name")+'"]');d.bind("change.validation click.validation",
function(){b.trigger("revalidate.validation",{includeEmpty:!0})});a.elements=d;a.maxchecked=b.data("validation"+c+"Maxchecked");d="Too many: Max '"+a.maxchecked+"' checked";b.data("validation"+c+"Message")&&(d=b.data("validation"+c+"Message"));a.message=d;return a},validate:function(b,c,a){return a.elements.filter(":checked").length>a.maxchecked&&!a.negative||a.elements.filter(":checked").length<=a.maxchecked&&a.negative},blockSubmit:!0},minchecked:{name:"minchecked",init:function(b,c){var a={},d=
b.parents("form").first().find('[name="'+b.attr("name")+'"]');d.bind("change.validation click.validation",function(){b.trigger("revalidate.validation",{includeEmpty:!0})});a.elements=d;a.minchecked=b.data("validation"+c+"Minchecked");d="Too few: Min '"+a.minchecked+"' checked";b.data("validation"+c+"Message")&&(d=b.data("validation"+c+"Message"));a.message=d;return a},validate:function(b,c,a){return a.elements.filter(":checked").length<a.minchecked&&!a.negative||a.elements.filter(":checked").length>=
a.minchecked&&a.negative},blockSubmit:!0,includeEmpty:!0},number:{name:"number",init:function(b,c){var a={step:1};b.attr("step")&&(a.step=b.attr("step"));b.data("validation"+c+"Step")&&(a.step=b.data("validation"+c+"Step"));a.decimal=".";b.data("validation"+c+"Decimal")&&(a.decimal=b.data("validation"+c+"Decimal"));a.thousands="";b.data("validation"+c+"Thousands")&&(a.thousands=b.data("validation"+c+"Thousands"));a.regex=new RegExp("^"+("([+-]?\\d+(\\"+a.decimal+"\\d+)?)?")+"$");a.message="Must be a number";
var d=b.data("validation"+c+"Message");d&&(a.message=d);return a},validate:function(b,c,a){b=c.replace(a.decimal,".").replace(a.thousands,"");for(var d=parseFloat(b),f=parseFloat(a.step);0!==f%1;)f=10*parseFloat(f.toPrecision(12)),d=10*parseFloat(d.toPrecision(12));c=a.regex.test(c);a=0===parseFloat(d)%parseFloat(f);b=!isNaN(parseFloat(b))&&isFinite(b);return!(c&&a&&b)},message:"Must be a number"}},builtInValidators:{email:{name:"Email",type:"email"},passwordagain:{name:"Passwordagain",type:"match",
match:"password",message:"Does not match the given password\x3c!-- data-validator-paswordagain-message to override --\x3e"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\d+",message:"No decimal places allowed\x3c!-- data-validator-integer-message to override --\x3e"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number\x3c!-- data-validator-positivenumber-message to override --\x3e"},
negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number\x3c!-- data-validator-negativenumber-message to override --\x3e"},required:{name:"Required",type:"required",message:"This is required\x3c!-- data-validator-required-message to override --\x3e"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option\x3c!-- data-validation-checkone-message to override --\x3e"},number:{name:"Number",type:"number",decimal:".",step:"1"},pattern:{name:"Pattern",
type:"regex",message:"Not in expected format"}}},p=function(b){return b.toLowerCase().replace(/(^|\s)([a-z])/g,function(b,a,d){return a+d.toUpperCase()})},t=function(b){var c=null,a=b.attr("type");"checkbox"===a?(c=b.is(":checked")?c:"",(a=b.parents("form").first()||b.parents(".control-group").first())&&(c=a.find("input[name='"+b.attr("name")+"']:checked").map(function(a,b){return f(b).val()}).toArray().join(","))):"radio"===a?(c=0<f('input[name="'+b.attr("name")+'"]:checked').length?b.val():"",(a=
b.parents("form").first()||b.parents(".control-group").first())&&(c=a.find("input[name='"+b.attr("name")+"']:checked").map(function(a,b){return f(b).val()}).toArray().join(","))):c="number"===a?b[0].validity.valid?b.val():b[0].validity.badInput||b[0].validity.stepMismatch?"NaN":"":b.val();null==c&&(c="");return c};f.fn.jqBootstrapValidation=function(b){return m.methods[b]?m.methods[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof b&&b?(f.error("Method "+b+" does not exist on jQuery.jqBootstrapValidation"),
null):m.methods.init.apply(this,arguments)};f.jqBootstrapValidation=function(b){f(":input").not("[type=image],[type=submit]").jqBootstrapValidation.apply(this,arguments)}})(jQuery);